(()=>{"use strict";function t(t,n){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,n){if(t){if("string"==typeof t)return e(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){r&&(t=r);var o=0,i=function(){};return{s:i,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,a=!0,c=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,l=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw l}}}}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}const i=function(t){var e=t.duration,n=t.draw,r=t.timing,o=performance.now();requestAnimationFrame((function t(i){var l=(i-o)/e;l>1&&(l=1);var a=r(l);n(a),l<1&&requestAnimationFrame(t)}))};var l,a,c,s,u,d,f,y,p,m,v,g,h,b,w,S,A,_;(function(t){var e,r=document.querySelector(".price-message input"),o=function(t){var e=t.target;e.value=e!==r?e.value.replace(/[^А-яЁё ]/g,""):e.value.replace(/[^А-яЁё \d]/g,""),"blur"===t.type&&(e.value=e.value.trim())},i=function(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var o=0,i=function(){};return{s:i,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,a=!0,c=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,l=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw l}}}}(document.querySelectorAll('input[type="text"]'));try{for(i.s();!(e=i.n()).done;){var l=e.value;l.addEventListener("input",o),l.addEventListener("blur",o)}}catch(t){i.e(t)}finally{i.f()}})(),function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"+7 (___) ___-__-__",r=document.querySelectorAll(e);function o(t){var e=t.keyCode,r=n,o=r.replace(/\D/g,""),i=this.value.replace(/\D/g,""),l=0,a=r.replace(/[_\d]/g,(function(t){return l<i.length?i.charAt(l++)||o.charAt(l):t}));-1!==(l=a.indexOf("_"))&&(a=a.slice(0,l));var c=r.substr(0,this.value.length).replace(/_+/g,(function(t){return"\\d{1,"+t.length+"}"})).replace(/[+()]/g,"\\$&");(!(c=new RegExp("^"+c+"$")).test(this.value)||this.value.length<18||e>47&&e<58)&&(this.value=a),"blur"===t.type&&this.value.length<18&&(this.value="")}var i,l=t(r);try{for(l.s();!(i=l.n()).done;){var a=i.value;a.addEventListener("input",o),a.addEventListener("focus",o),a.addEventListener("blur",o)}}catch(t){l.e(t)}finally{l.f()}}('input[type="tel"]'),_=document.querySelector(".club-select").querySelector(".clubs-list ul"),document.addEventListener("click",(function(t){var e=t.target;e.closest(".club-select")?_.style.display&&"none"!==_.style.display?e.closest(".clubs-list ul")||(_.style.display="none"):(_.style.display="block",_.style.zIndex=1500):_.style.display="none"})),w=document.querySelector(".main-slider").querySelectorAll(".slide"),S=0,A=function(){w[S].style.display="none",++S>=w.length&&(S=0),w[S].style.display="flex"},function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2e3;A(),setInterval(A,t)}(2e3),y=document.getElementById("totop"),p=document.querySelector("section"),m=document.querySelector(".top-menu"),v=document.querySelector(".head"),g=m.getBoundingClientRect().top,h=m.getBoundingClientRect().height,b=p.getBoundingClientRect().top,y.style.display="none",window.addEventListener("scroll",(function(){b<window.pageYOffset?y.style.display="block":y.style.display="none",window.innerWidth<=768&&(g<=window.pageYOffset?(m.style.position="fixed",v.style.paddingBottom=h+"px"):(m.style.position="static",v.style.paddingBottom=0))})),y.addEventListener("click",(function(t){t.preventDefault(),document.body.scrollIntoView({behavior:"smooth",block:"start"})})),function(){var t,e=document.querySelector(".services-slider"),n=e.querySelectorAll(".slide"),o=Math.abs(20),i=0,l=document.createElement("div"),a=document.createElement("div");e.insertAdjacentElement("afterbegin",l),l.insertAdjacentElement("afterbegin",a),function(){e.classList.add("slider-carusel__main"),l.classList.add("slider-carusel__hidden"),a.classList.add("services-slider__wrap");var t,o=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,i=function(){};return{s:i,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,l=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw l}}}}(n);try{for(o.s();!(t=o.n()).done;){var i=t.value;i.classList.add("slider-carusel__item"),a.appendChild(i)}}catch(t){o.e(t)}finally{o.f()}}(),(t=document.createElement("style")).id="sliderCarusel-style",t.textContent="\n\t\t\t.slider-carusel__main {\n\t\t\t\tposition: relative;\n\t\t\t}\n\n\t\t\t.slider-carusel__hidden {\n\t\t\t\toverflow: hidden;\n\t\t\t}\n\n\t\t\t.services-slider__wrap {\n\t\t\t\tdisplay: flex;\n\t\t\t\ttransition: transform 0.5s !important;\n\t\t\t\twill-change: transform !important;\n\t\t\t}\n\n\t\t\t.slider-carusel__item {\n\t\t\t\tflex: 0 0 ".concat(o,"% !important;\n\t\t\t\tmargin: 0 auto !important;\n\t\t\t}\n\t\t"),document.head.appendChild(t),e.insertAdjacentHTML("afterbegin",'\n\t\t\t<div class="slider-arrow prev">\n\t\t\t\t<span>\n\t\t\t\t\t<img src="./images/arrow-left.png">\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t'),e.insertAdjacentHTML("beforeend",'\n\t\t\t<div class="slider-arrow next">\n\t\t\t\t<span>\n\t\t\t\t\t<img src="./images/arrow-right.png">\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t'),e.addEventListener("click",(function(t){t.target.closest(".next")?i<n.length-5&&(++i>n.length-5&&(i=0),a.style.transform="\n\t\t\t\ttranslateX(-".concat(i*o,"%)\n\t\t\t")):t.target.closest(".prev")&&i>0&&(--i<0&&(i=n.length-5),a.style.transform="\n\t\t\t\ttranslateX(-".concat(i*o,"%)\n\t\t\t"))}))}(),function(){var t,e,n=document.querySelector(".gallery-slider"),r=n.querySelectorAll(".slide"),i=document.querySelectorAll(".slider-dots li"),l=0;!function(){n.classList.add("slider-carusel__main");var t,e=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,l=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw l}}}}(r);try{for(e.s();!(t=e.n()).done;)t.value.classList.add("slider-gallery__none")}catch(t){e.e(t)}finally{e.f()}r[0].classList.add("slider-gallery__show")}(),(e=document.createElement("style")).id="sliderGallery-style",e.textContent="\n\t\t\t.slider-gallery__main {\n\t\t\t\tposition: relative;\n\t\t\t}\n\n\t\t\t.slider-gallery__none {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\n\t\t\t.slider-gallery__show {\n\t\t\t\tdisplay: block;\n\t\t\t}\n\t\t",document.head.appendChild(e),n.style="\n\t\t\tposition: relative;\n\t\t\tdisplay: flex;\n\t\t",n.insertAdjacentHTML("afterbegin",'\n\t\t\t<div class="slider-arrow prev">\n\t\t\t\t<span>\n\t\t\t\t\t<img src="./images/arrow-left.png">\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t'),n.insertAdjacentHTML("beforeend",'\n\t\t\t<div class="slider-arrow next">\n\t\t\t\t<span>\n\t\t\t\t\t<img src="./images/arrow-right.png">\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t'),function(){for(var t=document.createElement("ul"),e=0;e<r.length;e++){var o=document.createElement("li"),l=document.createElement("button");n.appendChild(t),t.classList.add("slider-dots"),t.appendChild(o),o.appendChild(l)}(i=document.querySelectorAll(".slider-dots li"))[0].classList.add("slick-active")}();var a=function(t,e,n){t[e].classList.remove(n)},c=function(t,e,n){t[e].classList.add(n)},s=function(){a(r,l,"slider-gallery__show"),a(i,l,"slick-active"),++l>=r.length&&(l=0),c(r,l,"slider-gallery__show"),c(i,l,"slick-active")},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2e3;t=setInterval(s,e)};n.addEventListener("click",(function(t){t.preventDefault();var e=t.target;e.closest(".slider-arrow, .slider-dots li")&&(a(r,l,"slider-gallery__show"),a(i,l,"slick-active"),e.closest(".next")?l++:e.closest(".prev")?l--:e.closest(".slider-dots li")&&i.forEach((function(t,n){t===e.closest(".slider-dots li")&&(l=n)})),l>=r.length&&(l=0),l<0&&(l=r.length-1),c(r,l,"slider-gallery__show"),c(i,l,"slick-active"))})),n.addEventListener("mouseover",(function(e){(e.target.closest(".slider-arrow")||e.target.closest(".slider-dots li"))&&clearInterval(t)})),n.addEventListener("mouseout",(function(t){(t.target.closest(".slider-arrow")||t.target.closest(".slider-dots li"))&&u(2e3)})),u(2e3)}(),function(){var t=document.querySelectorAll("form"),e=document.querySelectorAll('footer input[type="radio"]'),n=document.createElement("p");n.textContent="Вы не дали согласие на обработку персональных данных",n.style.cssText="\n\t\t\t\t\tcolor: red;\n\t\t\t\t\ttext-align: center;\n\t\t\t\t\tmargin: 5px 0;\n\t\t\t\t";var r=document.createElement("p");r.textContent="Выберите клуб",r.style.cssText="\n\t\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\t\tcolor: red;\n\t\t\t\t\t\t\ttext-align: center;\n\t\t\t\t\t\t\tmargin: 5px 0;\n\t\t\t\t\t\t\tbottom: 0;\n\t\t\t\t\t\t";var o='<div class="loader-wrap"><div class="lds-ring"><div></div><div></div><div></div><div></div>',l=function(t){i({duration:500,timing:function(t){return t},draw:function(e){t.querySelector(".form-wrapper").style.opacity=e}})},a=function(t,e){var n=document.getElementById(t),r=document.getElementById("thanks"),o=r.querySelector("h4"),i=r.querySelector("p");"thanks"===t?e?(o.textContent="Ошибка!",i.innerHTML="Во время отправки возникла ошибка.<br> попробуйте позже.",r.style.display="block",l(r)):(o.textContent="Спасибо!",i.innerHTML="Ваша заявка отправлена.<br> Мы свяжемся с вами в ближайшее время.",r.style.display="block",l(r)):e?(n.style.display="none",o.textContent="Ошибка!",i.innerHTML="Во время отправки возникла ошибка.<br> попробуйте позже.",r.style.display="block"):(n.style.display="none",o.textContent="Спасибо!",i.innerHTML="Ваша заявка отправлена.<br> Мы свяжемся с вами в ближайшее время.",r.style.display="block")},c=function(t){t.querySelectorAll("input").forEach((function(t){"text"!==t.getAttribute("type")&&"tel"!==t.getAttribute("type")||(t.value="")}))};t.forEach((function(t){var i=t.querySelector('button[type="submit"]'),l=t.querySelector('input[type="checkbox"]');t.style.position="relative";var s=i.textContent;t.addEventListener("submit",(function(u){u.preventDefault(),i.innerHTML=o,i.disabled=!0;var d=new FormData(t),f={};d.forEach((function(t,e){f[e]=t}));var y=function(){(function(t){return fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})})(f).then((function(e){if(!e.ok)throw new Error("status network not ok");t.closest(".popup")?a(t.closest(".popup").getAttribute("id")):a("thanks"),i.textContent=s,i.disabled=!1,c(t)})).catch((function(e){t.closest(".popup")?a(t.closest(".popup").getAttribute("id"),e):a("thanks",e),i.textContent=s,i.disabled=!1,c(t)}))};try{if(!l)throw new Error("it has no checkbox");l.checked?(n.remove(),y()):(i.textContent=s,i.disabled=!1,t.insertAdjacentElement("beforeend",n))}catch(t){for(var p=0;p<e.length;p++){if(e[p].checked){r.remove(),i.innerHTML=o,i.disabled=!0,y();break}i.textContent=s,i.disabled=!1,document.querySelector(".choose-club").insertAdjacentElement("afterend",r)}}}))}))}(),f=document.querySelectorAll(".popup"),document.addEventListener("click",(function(t){var e=t.target;f.forEach((function(n){var r;e.closest(n.getAttribute("data-btn-selector"))&&!e.closest("#footer")?(n.style.display="block",r=n,i({duration:500,timing:function(t){return t},draw:function(t){r.querySelector(".form-wrapper").style.opacity=t}}),".fixed-gift"===n.getAttribute("data-btn-selector")&&document.querySelector(".fixed-gift").remove()):e.closest(".form-content")&&!t.target.matches(".close-btn")||(n.style.display="none")}))})),a=document.getElementById("cards"),c=document.getElementById("card_order"),s=document.getElementById("price-total"),u=document.querySelector(".price-message input"),d=function(t){fetch(t).then((function(t){if(!t.ok)throw new Error("status network not ok");return t.text()})).then((function(t){var e=t.replace(/\s{2,}/g," ").match(/<label for="t[1-9]">.*?<\/label>/gi),n=new Map;e.forEach((function(t){var e=t.match(/>\d.*?</gi),r=e[0].replace(/\D*/g,""),o=e[1].replace(/\D*/g,"");n.set(r,o)})),c.querySelectorAll(".time input").forEach((function(t){t.checked&&("ТЕЛО2020"===u.value?i({duration:400,timing:function(t){return Math.pow(t,3)},draw:function(e){s.textContent=Math.floor(.7*n.get(t.value)*e)}}):i({duration:400,timing:function(t){return Math.pow(t,3)},draw:function(e){s.textContent=Math.floor(n.get(t.value)*e)}}))}))})).catch((function(t){return console.error(t)}))},a.addEventListener("change",(function(t){var e=t.target;e.matches("#card_leto_mozaika")||e.matches('[name="card-type"]')||e.matches(".price-message input")?d("./mozaika.html"):(e.matches("#card_leto_schelkovo")||e.matches('[name="card-type"]')||e.matches(".price-message input"))&&d("./schelkovo.html")})),l=document.querySelector(".popup-menu"),document.addEventListener("click",(function(t){var e=t.target;e.matches(".menu-button img")?l.style.display="flex":(e.matches(".close-menu-btn img")||e.closest("a"))&&(l.style.display="none")}))})();